<div class="content-section">
    <div class="container-fluid">
        <div class="submit-feedback-page">
            <div class="row">
                <div class="col-md-12">
                    <h3 ng-if="vm.isIndividual==true" class="dataTable-heading">New Feedback </h3>
                    <h3 ng-if="vm.isIndividual==false " class="dataTable-heading">Feedback Details</h3>
                    <div class="col-md-6 col-md-offset-3">
                        <form name="feedbackForm" novalidate>
                            <fieldset ng-disabled="vm.view==true">

                                <div class="form-group">
                                    <label>Subject</label>
                                    <textarea type="text" ng-class="{'highlightErr': feedbackForm.subject.$error.required
                                    && feedbackForm.$submitted}" style="height: 85px !important;" class="form-control"
                                        name="subject" ng-model="vm.feedback.subject" maxlength="150" placeholder=""
                                        required></textarea>
                                </div>


                                <div class="form-group flex-inline">
                                    <label class="margin-rtb-6">Department</label>
                                    <select class="form-control widthAuto" ng-class="{'highlightErr': feedbackForm.department.$error.required
                                    && feedbackForm.$submitted}" id="sel1" ng-model="vm.feedback.departmentName"
                                        ng-options="dept for dept in vm.departments| orderBy" name="department"
                                        required>
                                        <option value="" disabled>Select Department</option>
                                    </select>
                                </div>


                                <div class="form-group">
                                    <span>
                                        <input id="checkbox-1" class="checkbox-custom"
                                            ng-model="vm.feedback.managerShared" name="checkbox-1" type="checkbox"
                                            checked>
                                        <!-- <label for="checkbox-1" class="checkbox-custom-label" style="cursor :not-allowed !important">Share with Manager</label> -->
                                        <label for="checkbox-1" class="checkbox-custom-label"
                                            ng-class="{'change-cursor-point' : !vm.isIndividual}">Share with
                                            Manager</label>
                                    </span>
                                </div>

                                <div class="form-group">
                                    <label>Description</label>
                                    <textarea ng-class="{'highlightErr': feedbackForm.description.$error.required
                                    && feedbackForm.$submitted}" class="form-control" style="height: 183px !important;"
                                        rows="3" name="description" id="description" ng-model="vm.feedback.description"
                                        maxlength="500" placeholder="" required></textarea>
                                </div>
                            </fieldset>

                            <div class="text-center">
                                <button ng-if="vm.view!=true" type="submit" class="btn primary-btn width-70"
                                    ng-click="feedbackForm.$valid && vm.feedbackSubmit();">Submit</button>

                                <!--AlertModal -->

                                <div class="modal" id="item-modal">
                                    <div class="modal-dialog modal-sm modal-alert">
                                        <div class="modal-content">
                                            <div class="modal-body">
                                                <div role="alert" width="100%">
                                                    <div ng-if="vm.formSubmitted" class="alert alert-success"
                                                        role="alert" width="100%">
                                                        Feedback submitted successfully
                                                    </div>

                                                    <div ng-if="(vm.formSubmitted==false && vm.message==undefined) ||(vm.formSubmitted==false && vm.message != undefined && vm.message !='')"
                                                        class="alert alert-danger" role="alert" width="100%">
                                                        Unable to process your request. Please retry or contact system
                                                        admin
                                                    </div>

                                                </div>
                                                <button type="button" class="btn mt-10" data-dismiss="modal"
                                                    style="color:#000">Ok</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>


                                <button ng-if="vm.isIndividual==false" type="button" class="btn primary-btn width-70"
                                    ng-click="vm.goToPreviousPage()">Cancel</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>